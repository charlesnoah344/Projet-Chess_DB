<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             Foreground="{DynamicResource PrimaryForeground}"
             Background="{DynamicResource PrimaryBackground}"
             xmlns:vm="clr-namespace:Chess_D_B.ViewModels"
             x:DataType="vm:AfficherCompetitionsPageViewModel"
             x:Class="Chess_D_B.Views.AfficherCompetitionsPageView">
    
    <Grid RowDefinitions="Auto, Auto, *, Auto">
        
        <Border Grid.Row="0" Background="#16a085" Padding="20">
            <TextBlock Text="ðŸ† Liste des CompÃ©titions" 
                       FontSize="28" 
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>
        </Border>
        
        <Border Grid.Row="1" Padding="15" Background="#1abc9c">
            <TextBlock Text="{Binding Message}" 
                       FontSize="14"
                       FontWeight="Bold"
                       Foreground="White"
                       HorizontalAlignment="Center"/>
        </Border>
        
        <ScrollViewer Grid.Row="2" Margin="20">
            <ListBox ItemsSource="{Binding Competitions}">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border Background="#34495E" 
                                Padding="20" 
                                Margin="0,0,0,10"
                                CornerRadius="5"
                                Cursor="Hand">
                            <Border.Styles>
                                <Style Selector="Border:pointerover">
                                    <Setter Property="Background" Value="#2C3E50"/>
                                </Style>
                            </Border.Styles>
                            
                            <Grid RowDefinitions="Auto, Auto, Auto">
                                <TextBlock Grid.Row="0" 
                                           Text="{Binding Tournoi}" 
                                           FontSize="20" 
                                           FontWeight="Bold"/>
                                
                                <StackPanel Grid.Row="1" Orientation="Horizontal" Spacing="15" Margin="0,5,0,0">
                                    <TextBlock Text="{Binding Ville, StringFormat='ðŸ“ {0}'}" 
                                               FontSize="14" 
                                               Foreground="#95a5a6"/>
                                    <TextBlock Text="{Binding DateDebut, StringFormat='ðŸ“… {0:dd/MM/yyyy}'}" 
                                               FontSize="14" 
                                               Foreground="#95a5a6"/>
                                </StackPanel>
                                
                                <Button Grid.Row="2"
                                        Content="ðŸ‘ï¸ Ouvrir la compÃ©tition"
                                        Command="{Binding $parent[UserControl].DataContext.OuvrirCompetitionCommand}"
                                        CommandParameter="{Binding}"
                                        Margin="0,10,0,0"
                                        Height="35"
                                        HorizontalAlignment="Stretch"
                                        Background="#16a085"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </ScrollViewer>
        
        <StackPanel Grid.Row="3" Margin="20" Spacing="10">
            <ProgressBar IsIndeterminate="True" 
                         IsVisible="{Binding EstEnChargement}"
                         Height="4"/>
            
            <Button Content="â† Retour" 
                    Command="{Binding RetourCommand}"
                    HorizontalAlignment="Left"
                    Width="200"
                    Height="40"/>
        </StackPanel>
    </Grid>
</UserControl>